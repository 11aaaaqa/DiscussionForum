@model List<Web.MVC.Models.ApiResponses.TopicResponse>

<div class="text-center">
    <h3>Темы</h3>
    <a asp-action="SuggestTopic" asp-controller="Topic">Предложить тему</a><br/>
    <form method="get">
        <input name="searchingQuery" placeholder="Поиск" />
        <input type="hidden" name="pageSize" value="@ViewBag.PageSize" />
        <input type="hidden" name="pageNumber" value="1"/>
        <input type="submit" value="найти"/>
    </form>
    @foreach (var topic in Model)
    {
        <a asp-controller="Topic" asp-action="Topic" asp-route-topicName="@topic.Name" asp-route-pageNumber="1" asp-route-pageSize="20">@topic.Name</a>
        <p>Постов: @topic.PostsCount</p>
    }
    @if (ViewBag.PreviousPageNumber != 0 && Model.Count != 0)
    {
        @if (ViewBag.SearchingQuery is null)
        {
            <a asp-controller="Topic" asp-action="Topics" asp-route-pageNumber="@ViewBag.PreviousPageNumber" asp-route-pageSize="@ViewBag.PageSize">
                Назад
            </a>
        }
        else
        {
            <a asp-controller="Topic" asp-action="Topics" asp-route-pageNumber="@ViewBag.PreviousPageNumber" asp-route-pageSize="@ViewBag.PageSize"
               asp-route-searchingQuery="@ViewBag.SearchingQuery">
                Назад
            </a>
        }
    }
    @if (ViewBag.DoesNextPageExist && Model.Count != 0)
    {
        @if (ViewBag.SearchingQuery is null)
        {
            <a asp-controller="Topic" asp-action="Topics" asp-route-pageNumber="@ViewBag.NextPageNumber" asp-route-pageSize="@ViewBag.PageSize">
                Вперед
            </a>
        }
        else
        {
            <a asp-controller="Topic" asp-action="Topics" asp-route-pageNumber="@ViewBag.NextPageNumber" asp-route-pageSize="@ViewBag.PageSize"
               asp-route-searchingQuery="@ViewBag.SearchingQuery">
                Вперед
            </a>
        }
    }
</div>

