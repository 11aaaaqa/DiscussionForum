@{
    ViewData["Title"] = "Лучшие обсуждения";
}
@model GetDiscussionsViewModel
<link rel="stylesheet" href="~/css/topic/topicCategory.css"/>

<nav>
    <ul>
        <li class="li-category">
            <a class="category" asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForToday"
               asp-route-pageNumber="1" asp-route-pageSize="20">За сегодня</a>
        </li>
        <li class="li-category">
            <a class="category" asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForWeek"
               asp-route-pageNumber="1" asp-route-pageSize="20">За неделю</a>
        </li>
        <li class="li-category">
            <a class="category" asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForMonth"
               asp-route-pageNumber="1" asp-route-pageSize="20">За месяц</a>
        </li>
        <li class="li-category">
            <a class="category active-category" asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForAllTime"
               asp-route-pageNumber="1" asp-route-pageSize="20">За все время</a>
        </li>
    </ul>
</nav>

@foreach (var discussion in Model.Discussions)
{
    <a asp-controller="Discussion" asp-action="GetDiscussion" asp-route-id="@discussion.Id" asp-route-pageNumber="1" asp-route-pageSize="20">@discussion.Title</a>
    <h6>Создано: @discussion.CreatedBy</h6>
    <h6>Рейтинг: @discussion.Rating</h6>
    <h6>Дата создания: @discussion.CreatedAt</h6>
}

@if (Model.PreviousPageNumber != 0 && Model.Discussions.Count != 0)
{
    <a asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForAllTime" asp-route-pageNumber="@Model.PreviousPageNumber"
       asp-route-pageSize="@Model.PageSize">Назад</a>
}
@if (Model.DoesNextPageExist && Model.Discussions.Count != 0)
{
    <a asp-controller="Discussion" asp-action="GetDiscussionsSortedByPopularityForAllTime" asp-route-pageNumber="@Model.NextPageNumber"
       asp-route-pageSize="@Model.PageSize">Вперед</a>
}