@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Web.MVC.Constants
@model System.Collections.Generic.List<Web.MVC.Models.ApiResponses.CommentsResponses.SuggestedCommentResponse>

<div class="text-center">
    <h3>Предложенные комментарии</h3>
    @if (Model.Count != 0)
    {
        <form method="post" asp-controller="Moderator" asp-action="DeleteAllSuggestedCommentsByUserName" asp-route-returnUrl="@Context.Request.Path"
              asp-route-userName="@ViewBag.SuggestedByUserName">
            <input type="submit" value="удалить все предложения"/>
        </form>
        <a asp-controller="Moderator" asp-action="BanUser" asp-route-userName="@ViewBag.SuggestedByUserName" asp-route-returnUrl="@Context.Request.Path">
            отстранить пользователя
        </a>
    }
    @foreach (var suggestedComment in Model)
    {
        <p>@suggestedComment.Content</p>
        <form method="post" asp-controller="Moderator" asp-action="AcceptSuggestedComment" asp-route-id="@suggestedComment.Id">
            <input type="submit" value="принять" />
        </form>
        <form method="post" asp-controller="Moderator" asp-action="RejectSuggestedComment" asp-route-id="@suggestedComment.Id">
            <input type="submit" value="отклонить" />
        </form>
        <a asp-controller="Moderator" asp-action="BanUserAndDeleteSuggestion"
           asp-route-returnUrl="@Context.Request.Path" asp-route-userName="@suggestedComment.CreatedBy"
           asp-route-suggestionDeleteId="@suggestedComment.Id" asp-route-suggestionDeleteType="@BanTypeConstants.CommentBanType">
            остранить и отклонить предложение
        </a>
    }
</div>